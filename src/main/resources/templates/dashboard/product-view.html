<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="fragments/dashboard-layout :: layout(~{::section})">
<head>
    <title>View Product</title>
</head>
<body>
<section class="container py-4">
    <div class="mb-4">
        <h2>View Product</h2>
    </div>

    <form th:object="${product}" class="needs-validation" novalidate>

        <!-- Image Preview -->
        <div class="mb-3" style="max-width: 300px;">
            <img th:if="${product.image}" th:src="@{${product.image}}" id="imagePreview"
                 class="img-fluid rounded shadow-sm" style="width: 100%; height: auto;"/>
        </div>

        <!-- Upload Image (disabled) -->
        <div class="mb-3">
            <label for="imageFile" class="form-label">Upload Image</label>
            <input id="imageFile" type="file" name="imageFile" class="form-control" disabled />
        </div>

        <!-- Name Field (disabled) -->
        <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input id="name" type="text" th:field="*{name}" class="form-control" placeholder="Enter name" disabled/>
        </div>

        <!-- Price Field (disabled) -->
        <div class="mb-3">
            <label for="price" class="form-label">Price</label>
            <input id="price" type="number" th:field="*{price}" class="form-control" placeholder="Enter price" step="0.01" disabled/>
        </div>

        <!-- Category Dropdown (disabled) -->
        <div class="mb-3">
            <label for="category" class="form-label">Category</label>
            <select id="category" th:field="*{category.id}" class="form-select" disabled>
                <option value="" disabled>Select category</option>
                <option th:each="cat : ${categories}"
                        th:value="${cat.id}"
                        th:text="${cat.name}"
                        th:selected="${cat.id == product.category?.id}">
                </option>
            </select>
        </div>

        <!-- Back button aligned right -->
        <div class="text-end">
            <a th:href="@{/dashboard/products}" class="btn btn-secondary">Back</a>
        </div>
    </form>
</section>
</body>
</html>
